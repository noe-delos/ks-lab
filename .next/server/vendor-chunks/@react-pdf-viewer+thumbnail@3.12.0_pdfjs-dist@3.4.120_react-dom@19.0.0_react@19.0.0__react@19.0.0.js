"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@react-pdf-viewer+thumbnail@3.12.0_pdfjs-dist@3.4.120_react-dom@19.0.0_react@19.0.0__react@19.0.0";
exports.ids = ["vendor-chunks/@react-pdf-viewer+thumbnail@3.12.0_pdfjs-dist@3.4.120_react-dom@19.0.0_react@19.0.0__react@19.0.0"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@react-pdf-viewer+thumbnail@3.12.0_pdfjs-dist@3.4.120_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@react-pdf-viewer/thumbnail/lib/cjs/thumbnail.js":
/*!********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@react-pdf-viewer+thumbnail@3.12.0_pdfjs-dist@3.4.120_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@react-pdf-viewer/thumbnail/lib/cjs/thumbnail.js ***!
  \********************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"(ssr)/./node_modules/.pnpm/@react-pdf-viewer+core@3.12.0_pdfjs-dist@3.4.120_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n\nfunction _interopNamespaceDefault(e) {\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n.default = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespaceDefault(React);\n\nexports.ThumbnailDirection = void 0;\n(function (ThumbnailDirection) {\n    ThumbnailDirection[\"Horizontal\"] = \"Horizontal\";\n    ThumbnailDirection[\"Vertical\"] = \"Vertical\";\n})(exports.ThumbnailDirection || (exports.ThumbnailDirection = {}));\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar CoverInner = function (_a) {\n    var doc = _a.doc, getPageIndex = _a.getPageIndex, renderSpinner = _a.renderSpinner, store = _a.store, width = _a.width;\n    var numPages = doc.numPages;\n    var targetPage = getPageIndex ? getPageIndex({ numPages: numPages }) : 0;\n    var normalizePage = Math.max(0, Math.min(targetPage, numPages - 1));\n    var initialPagesRotation = store.get('pagesRotation') || new Map();\n    var initialTargetPageRotation = initialPagesRotation.has(normalizePage)\n        ? initialPagesRotation.get(normalizePage)\n        : 0;\n    var _b = React__namespace.useState(''), src = _b[0], setSrc = _b[1];\n    var isMounted = core.useIsMounted();\n    var renderTask = React__namespace.useRef();\n    var _c = React__namespace.useState(store.get('rotation') || 0), rotation = _c[0], setRotation = _c[1];\n    var _d = React__namespace.useState(initialTargetPageRotation), pageRotation = _d[0], setPageRotation = _d[1];\n    var _e = React__namespace.useState(false), isVisible = _e[0], setVisible = _e[1];\n    var handlePagesRotationChanged = function (rotations) {\n        var pageRotation = rotations.has(normalizePage) ? rotations.get(normalizePage) : 0;\n        setPageRotation(pageRotation);\n    };\n    var handleRotationChanged = function (currentRotation) {\n        setRotation(currentRotation);\n    };\n    var handleVisibilityChanged = function (params) {\n        setVisible(params.isVisible);\n    };\n    var containerRef = core.useIntersectionObserver({\n        onVisibilityChanged: handleVisibilityChanged,\n    });\n    React__namespace.useEffect(function () {\n        if (!isVisible) {\n            return;\n        }\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        setSrc('');\n        core.getPage(doc, normalizePage).then(function (page) {\n            var viewport = page.getViewport({ scale: 1 });\n            var viewportRotation = viewport.rotation;\n            var rotationValue = (viewportRotation + rotation + pageRotation) % 360;\n            var isVertical = Math.abs(rotation + pageRotation) % 180 === 0;\n            var w = isVertical ? viewport.width : viewport.height;\n            var h = isVertical ? viewport.height : viewport.width;\n            var canvas = document.createElement('canvas');\n            var canvasContext = canvas.getContext('2d', { alpha: false });\n            var containerWidth = containerEle.clientWidth;\n            var containerHeight = containerEle.clientHeight;\n            var scaled = width ? width / w : Math.min(containerWidth / w, containerHeight / h);\n            var canvasWidth = scaled * w;\n            var canvasHeight = scaled * h;\n            canvas.height = canvasHeight;\n            canvas.width = canvasWidth;\n            canvas.style.opacity = '0';\n            var renderViewport = page.getViewport({\n                rotation: rotationValue,\n                scale: scaled,\n            });\n            renderTask.current = page.render({ canvasContext: canvasContext, viewport: renderViewport });\n            renderTask.current.promise.then(function () {\n                isMounted.current && setSrc(canvas.toDataURL());\n                canvas.width = 0;\n                canvas.height = 0;\n            }, function () {\n            });\n        });\n    }, [pageRotation, isVisible]);\n    React__namespace.useEffect(function () {\n        store.subscribe('pagesRotation', handlePagesRotationChanged);\n        store.subscribe('rotation', handleRotationChanged);\n        return function () {\n            store.unsubscribe('pagesRotation', handlePagesRotationChanged);\n            store.unsubscribe('rotation', handleRotationChanged);\n        };\n    }, []);\n    React__namespace.useEffect(function () {\n        return function () {\n            var _a;\n            (_a = renderTask.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        };\n    }, []);\n    return (React__namespace.createElement(\"div\", { ref: containerRef, className: \"rpv-thumbnail__cover-inner\", \"data-testid\": \"thumbnail__cover-inner\" }, src ? (React__namespace.createElement(\"img\", { className: \"rpv-thumbnail__cover-image\", \"data-testid\": \"thumbnail__cover-image\", src: src })) : (React__namespace.createElement(\"div\", { className: \"rpv-thumbnail__cover-loader\", \"data-testid\": \"thumbnail__cover-loader\" }, renderSpinner ? renderSpinner() : React__namespace.createElement(core.Spinner, null)))));\n};\n\nvar Cover = function (_a) {\n    var getPageIndex = _a.getPageIndex, renderSpinner = _a.renderSpinner, store = _a.store, width = _a.width;\n    var _b = React__namespace.useState(store.get('doc')), currentDoc = _b[0], setCurrentDoc = _b[1];\n    var handleDocumentChanged = function (doc) {\n        setCurrentDoc(doc);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('doc', handleDocumentChanged);\n        return function () {\n            store.unsubscribe('doc', handleDocumentChanged);\n        };\n    }, []);\n    return (React__namespace.createElement(\"div\", { className: \"rpv-thumbnail__cover\" }, currentDoc ? (React__namespace.createElement(CoverInner, { doc: currentDoc, getPageIndex: getPageIndex, renderSpinner: renderSpinner, store: store, width: width })) : (React__namespace.createElement(\"div\", { className: \"rpv-thumbnail__cover-loader\" }, renderSpinner ? renderSpinner() : React__namespace.createElement(core.Spinner, null)))));\n};\n\nvar defaultSpinner = function () { return React__namespace.createElement(core.Spinner, null); };\nvar SpinnerContext = React__namespace.createContext({\n    renderSpinner: defaultSpinner,\n});\n\nvar FetchLabels = function (_a) {\n    var children = _a.children, doc = _a.doc;\n    var isMounted = core.useIsMounted();\n    var _b = React__namespace.useState({\n        loading: true,\n        labels: [],\n    }), status = _b[0], setStatus = _b[1];\n    React__namespace.useEffect(function () {\n        doc.getPageLabels().then(function (result) {\n            isMounted.current && setStatus({ loading: false, labels: result || [] });\n        });\n    }, [doc.loadingTask.docId]);\n    return status.loading ? React__namespace.createElement(React__namespace.Fragment, null) : children(status.labels);\n};\n\nvar scrollToBeVisibleVertically = function (ele, container) {\n    var top = ele.getBoundingClientRect().top - container.getBoundingClientRect().top;\n    var eleHeight = ele.clientHeight;\n    var containerHeight = container.clientHeight;\n    if (top < 0) {\n        container.scrollTop += top;\n        return;\n    }\n    if (top + eleHeight <= containerHeight) {\n        return;\n    }\n    container.scrollTop += top + eleHeight - containerHeight;\n};\nvar scrollToBeVisibleHorizontally = function (ele, container) {\n    var left = ele.getBoundingClientRect().left - container.getBoundingClientRect().left;\n    var eleWidth = ele.clientWidth;\n    var containerWidth = container.clientWidth;\n    if (left < 0) {\n        container.scrollLeft += left;\n        return;\n    }\n    if (left + eleWidth <= containerWidth) {\n        return;\n    }\n    container.scrollLeft += left + eleWidth - containerWidth;\n};\n\nvar ThumbnailItem = function (_a) {\n    var page = _a.page, pageHeight = _a.pageHeight, pageIndex = _a.pageIndex, pageWidth = _a.pageWidth, rotation = _a.rotation, thumbnailHeight = _a.thumbnailHeight, thumbnailWidth = _a.thumbnailWidth, onRenderCompleted = _a.onRenderCompleted;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var renderTask = React__namespace.useRef();\n    var _b = React__namespace.useState(''), src = _b[0], setSrc = _b[1];\n    var thumbnailLabel = l10n && l10n.thumbnail\n        ? l10n.thumbnail.thumbnailLabel\n        : 'Thumbnail of page {{pageIndex}}';\n    React__namespace.useEffect(function () {\n        var task = renderTask.current;\n        if (task) {\n            task.cancel();\n        }\n        var canvas = document.createElement('canvas');\n        var canvasContext = canvas.getContext('2d', { alpha: false });\n        var w = thumbnailWidth;\n        var h = w / (pageWidth / pageHeight);\n        var scale = w / pageWidth;\n        canvas.height = h;\n        canvas.width = w;\n        canvas.style.height = \"\".concat(h, \"px\");\n        canvas.style.width = \"\".concat(w, \"px\");\n        var viewport = page.getViewport({ rotation: rotation, scale: scale });\n        renderTask.current = page.render({ canvasContext: canvasContext, viewport: viewport });\n        renderTask.current.promise.then(function () {\n            setSrc(canvas.toDataURL());\n            onRenderCompleted(pageIndex);\n        }, function () {\n            onRenderCompleted(pageIndex);\n        });\n        return function () {\n            var _a;\n            (_a = renderTask.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        };\n    }, [rotation]);\n    return !src ? (React__namespace.useContext(SpinnerContext).renderSpinner()) : (React__namespace.createElement(\"img\", { \"aria-label\": thumbnailLabel.replace('{{pageIndex}}', \"\".concat(pageIndex + 1)), src: src, height: \"\".concat(thumbnailHeight, \"px\"), width: \"\".concat(thumbnailWidth, \"px\") }));\n};\n\nvar ThumbnailContainer = function (_a) {\n    var doc = _a.doc, pageHeight = _a.pageHeight, pageIndex = _a.pageIndex, pageRotation = _a.pageRotation, pageWidth = _a.pageWidth, rotation = _a.rotation, shouldRender = _a.shouldRender, thumbnailWidth = _a.thumbnailWidth, onRenderCompleted = _a.onRenderCompleted, onVisibilityChanged = _a.onVisibilityChanged;\n    var isMounted = core.useIsMounted();\n    var _b = React__namespace.useState({\n        height: pageHeight,\n        page: null,\n        viewportRotation: 0,\n        width: pageWidth,\n    }), pageSize = _b[0], setPageSize = _b[1];\n    var page = pageSize.page, height = pageSize.height, width = pageSize.width;\n    var scale = width / height;\n    var isVertical = Math.abs(rotation + pageRotation) % 180 === 0;\n    var w = isVertical ? thumbnailWidth : thumbnailWidth / scale;\n    var h = isVertical ? thumbnailWidth / scale : thumbnailWidth;\n    React__namespace.useEffect(function () {\n        if (shouldRender) {\n            core.getPage(doc, pageIndex).then(function (pdfPage) {\n                var viewport = pdfPage.getViewport({ scale: 1 });\n                isMounted.current &&\n                    setPageSize({\n                        height: viewport.height,\n                        page: pdfPage,\n                        viewportRotation: viewport.rotation,\n                        width: viewport.width,\n                    });\n            });\n        }\n    }, [shouldRender]);\n    var rotationNumber = (pageSize.viewportRotation + rotation + pageRotation) % 360;\n    var containerRef = core.useIntersectionObserver({\n        onVisibilityChanged: function (visibility) {\n            onVisibilityChanged(pageIndex, visibility);\n        },\n    });\n    return (React__namespace.createElement(\"div\", { className: \"rpv-thumbnail__container\", \"data-testid\": \"thumbnail__container-\".concat(pageIndex), ref: containerRef, style: {\n            height: \"\".concat(h, \"px\"),\n            width: \"\".concat(w, \"px\"),\n        } }, !page ? (React__namespace.useContext(SpinnerContext).renderSpinner()) : (React__namespace.createElement(ThumbnailItem, { page: page, pageHeight: isVertical ? height : width, pageIndex: pageIndex, pageWidth: isVertical ? width : height, rotation: rotationNumber, thumbnailHeight: h, thumbnailWidth: w, onRenderCompleted: onRenderCompleted }))));\n};\n\nvar ThumbnailList = function (_a) {\n    var currentPage = _a.currentPage, doc = _a.doc, labels = _a.labels, pagesRotation = _a.pagesRotation, pageHeight = _a.pageHeight, pageWidth = _a.pageWidth, renderCurrentPageLabel = _a.renderCurrentPageLabel, renderThumbnailItem = _a.renderThumbnailItem, rotatedPage = _a.rotatedPage, rotation = _a.rotation, thumbnailDirection = _a.thumbnailDirection, thumbnailWidth = _a.thumbnailWidth, viewMode = _a.viewMode, onJumpToPage = _a.onJumpToPage, onRotatePage = _a.onRotatePage;\n    var numPages = doc.numPages;\n    var docId = doc.loadingTask.docId;\n    var containerRef = React__namespace.useRef(null);\n    var thumbnailsRef = React__namespace.useRef([]);\n    var _b = React__namespace.useState(currentPage), currentFocused = _b[0], setCurrentFocused = _b[1];\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    var _c = React__namespace.useState(-1), renderPageIndex = _c[0], setRenderPageIndex = _c[1];\n    var isMounted = core.useIsMounted();\n    var previousViewMode = core.usePrevious(viewMode);\n    var hasRenderingThumbnailRef = React__namespace.useRef(false);\n    var renderQueue = core.useRenderQueue({ doc: doc });\n    var pageIndexes = React__namespace.useMemo(function () {\n        return Array(numPages)\n            .fill(0)\n            .map(function (_, pageIndex) { return pageIndex; });\n    }, [docId]);\n    var chunks = React__namespace.useMemo(function () {\n        switch (viewMode) {\n            case core.ViewMode.DualPage:\n                return core.chunk(pageIndexes, 2);\n            case core.ViewMode.DualPageWithCover:\n                return [[pageIndexes[0]]].concat(core.chunk(pageIndexes.slice(1), 2));\n            case core.ViewMode.SinglePage:\n            default:\n                return core.chunk(pageIndexes, 1);\n        }\n    }, [docId, viewMode]);\n    var handleKeyDown = function (e) {\n        switch (e.key) {\n            case 'ArrowDown':\n                activateNextItem();\n                break;\n            case 'ArrowUp':\n                activatePreviousItem();\n                break;\n            case 'Enter':\n                jumpToFocusedPage();\n                break;\n        }\n    };\n    var activateNextItem = function () {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        var items = thumbnailsRef.current;\n        var nextItem = currentFocused + 1;\n        if (nextItem < items.length) {\n            if (currentFocused >= 0) {\n                items[currentFocused].setAttribute('tabindex', '-1');\n            }\n            setCurrentFocused(nextItem);\n        }\n    };\n    var activatePreviousItem = function () {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        var items = thumbnailsRef.current;\n        var prevItem = currentFocused - 1;\n        if (prevItem >= 0) {\n            if (currentFocused >= 0) {\n                items[currentFocused].setAttribute('tabindex', '-1');\n            }\n            setCurrentFocused(prevItem);\n        }\n    };\n    var jumpToFocusedPage = function () {\n        if (currentFocused >= 0 && currentFocused < numPages) {\n            onJumpToPage(currentFocused);\n        }\n    };\n    core.useIsomorphicLayoutEffect(function () {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        thumbnailsRef.current = Array.from(container.querySelectorAll('.rpv-thumbnail__item'));\n    }, [viewMode]);\n    React__namespace.useEffect(function () {\n        var thumbnails = thumbnailsRef.current;\n        if (thumbnails.length === 0 || currentFocused < 0 || currentFocused > thumbnails.length) {\n            return;\n        }\n        var thumbnailEle = thumbnails[currentFocused];\n        thumbnailEle.setAttribute('tabindex', '0');\n        thumbnailEle.focus();\n    }, [currentFocused]);\n    core.useIsomorphicLayoutEffect(function () {\n        var container = containerRef.current;\n        var thumbnails = thumbnailsRef.current;\n        if (!container || thumbnails.length === 0 || currentPage < 0 || currentPage > thumbnails.length) {\n            return;\n        }\n        var thumbnailContainer = thumbnails[currentPage].closest('.rpv-thumbnail__items');\n        if (thumbnailContainer) {\n            thumbnailDirection === exports.ThumbnailDirection.Vertical\n                ? scrollToBeVisibleVertically(thumbnailContainer, container)\n                : scrollToBeVisibleHorizontally(thumbnailContainer, container);\n        }\n    }, [currentPage, thumbnailDirection]);\n    var handleRenderCompleted = React__namespace.useCallback(function (pageIndex) {\n        if (isMounted.current) {\n            renderQueue.markRendered(pageIndex);\n            hasRenderingThumbnailRef.current = false;\n            renderNextThumbnail();\n        }\n    }, [docId]);\n    var handleVisibilityChanged = React__namespace.useCallback(function (pageIndex, visibility) {\n        visibility.isVisible\n            ? renderQueue.setVisibility(pageIndex, visibility.ratio)\n            :\n                renderQueue.setOutOfRange(pageIndex);\n        renderNextThumbnail();\n    }, [docId]);\n    var renderNextThumbnail = React__namespace.useCallback(function () {\n        if (hasRenderingThumbnailRef.current) {\n            return;\n        }\n        var nextPage = renderQueue.getHighestPriorityPage();\n        if (nextPage > -1) {\n            renderQueue.markRendering(nextPage);\n            hasRenderingThumbnailRef.current = true;\n            setRenderPageIndex(nextPage);\n        }\n    }, [docId]);\n    React__namespace.useEffect(function () {\n        if (rotatedPage >= 0) {\n            renderQueue.markRendering(rotatedPage);\n            hasRenderingThumbnailRef.current = true;\n            setRenderPageIndex(rotatedPage);\n        }\n    }, [docId, rotatedPage]);\n    core.useIsomorphicLayoutEffect(function () {\n        if (previousViewMode !== viewMode) {\n            renderQueue.markNotRendered();\n            renderNextThumbnail();\n        }\n    }, [viewMode]);\n    var renderPageThumbnail = function (pageIndex) {\n        var isCover = viewMode === core.ViewMode.DualPageWithCover &&\n            (pageIndex === 0 || (numPages % 2 === 0 && pageIndex === numPages - 1));\n        var key = \"\".concat(doc.loadingTask.docId, \"___\").concat(pageIndex);\n        var pageLabel = labels.length === numPages ? labels[pageIndex] : \"\".concat(pageIndex + 1);\n        var label = renderCurrentPageLabel\n            ? renderCurrentPageLabel({ currentPage: currentPage, pageIndex: pageIndex, numPages: numPages, pageLabel: pageLabel })\n            : pageLabel;\n        var pageRotation = pagesRotation.has(pageIndex) ? pagesRotation.get(pageIndex) : 0;\n        var thumbnail = (React__namespace.createElement(ThumbnailContainer, { doc: doc, pageHeight: pageHeight, pageIndex: pageIndex, pageRotation: pageRotation, pageWidth: pageWidth, rotation: rotation, shouldRender: renderPageIndex === pageIndex, thumbnailWidth: thumbnailWidth, onRenderCompleted: handleRenderCompleted, onVisibilityChanged: handleVisibilityChanged }));\n        return renderThumbnailItem ? (renderThumbnailItem({\n            currentPage: currentPage,\n            key: key,\n            numPages: numPages,\n            pageIndex: pageIndex,\n            renderPageLabel: React__namespace.createElement(React__namespace.Fragment, null, label),\n            renderPageThumbnail: thumbnail,\n            onJumpToPage: function () { return onJumpToPage(pageIndex); },\n            onRotatePage: function (direction) { return onRotatePage(pageIndex, direction); },\n        })) : (React__namespace.createElement(\"div\", { key: key },\n            React__namespace.createElement(\"div\", { className: core.classNames({\n                    'rpv-thumbnail__item': true,\n                    'rpv-thumbnail__item--dual-even': viewMode === core.ViewMode.DualPage && pageIndex % 2 === 0,\n                    'rpv-thumbnail__item--dual-odd': viewMode === core.ViewMode.DualPage && pageIndex % 2 === 1,\n                    'rpv-thumbnail__item--dual-cover': isCover,\n                    'rpv-thumbnail__item--dual-cover-even': viewMode === core.ViewMode.DualPageWithCover && !isCover && pageIndex % 2 === 0,\n                    'rpv-thumbnail__item--dual-cover-odd': viewMode === core.ViewMode.DualPageWithCover && !isCover && pageIndex % 2 === 1,\n                    'rpv-thumbnail__item--single': viewMode === core.ViewMode.SinglePage,\n                    'rpv-thumbnail__item--selected': currentPage === pageIndex,\n                }), role: \"button\", tabIndex: currentPage === pageIndex ? 0 : -1, onClick: function () { return onJumpToPage(pageIndex); } }, thumbnail),\n            React__namespace.createElement(\"div\", { \"data-testid\": \"thumbnail__label-\".concat(pageIndex), className: \"rpv-thumbnail__label\" }, label)));\n    };\n    return (React__namespace.createElement(\"div\", { ref: containerRef, \"data-testid\": \"thumbnail__list\", className: core.classNames({\n            'rpv-thumbnail__list': true,\n            'rpv-thumbnail__list--horizontal': thumbnailDirection === exports.ThumbnailDirection.Horizontal,\n            'rpv-thumbnail__list--rtl': isRtl,\n            'rpv-thumbnail__list--vertical': thumbnailDirection === exports.ThumbnailDirection.Vertical,\n        }), onKeyDown: handleKeyDown }, chunks.map(function (chunkItem, index) {\n        var isSelectedChunk = false;\n        switch (viewMode) {\n            case core.ViewMode.DualPage:\n                isSelectedChunk = currentPage === 2 * index || currentPage === 2 * index + 1;\n                break;\n            case core.ViewMode.DualPageWithCover:\n                isSelectedChunk =\n                    (currentPage === 0 && index === 0) ||\n                        (index > 0 && currentPage === 2 * index - 1) ||\n                        (index > 0 && currentPage === 2 * index);\n                break;\n            case core.ViewMode.SinglePage:\n            default:\n                isSelectedChunk = currentPage === index;\n                break;\n        }\n        return (React__namespace.createElement(\"div\", { className: core.classNames({\n                'rpv-thumbnail__items': true,\n                'rpv-thumbnail__items--dual': viewMode === core.ViewMode.DualPage,\n                'rpv-thumbnail__items--dual-cover': viewMode === core.ViewMode.DualPageWithCover,\n                'rpv-thumbnail__items--single': viewMode === core.ViewMode.SinglePage,\n                'rpv-thumbnail__items--selected': isSelectedChunk,\n            }), key: \"\".concat(index, \"___\").concat(viewMode) }, chunkItem.map(function (pageIndex) { return renderPageThumbnail(pageIndex); })));\n    })));\n};\n\nvar ThumbnailListWithStore = function (_a) {\n    var renderCurrentPageLabel = _a.renderCurrentPageLabel, renderThumbnailItem = _a.renderThumbnailItem, store = _a.store, thumbnailDirection = _a.thumbnailDirection, thumbnailWidth = _a.thumbnailWidth;\n    var _b = React__namespace.useState(store.get('doc')), currentDoc = _b[0], setCurrentDoc = _b[1];\n    var _c = React__namespace.useState(store.get('currentPage') || 0), currentPage = _c[0], setCurrentPage = _c[1];\n    var _d = React__namespace.useState(store.get('pageHeight') || 0), pageHeight = _d[0], setPageHeight = _d[1];\n    var _e = React__namespace.useState(store.get('pageWidth') || 0), pageWidth = _e[0], setPageWidth = _e[1];\n    var _f = React__namespace.useState(store.get('rotation') || 0), rotation = _f[0], setRotation = _f[1];\n    var _g = React__namespace.useState(store.get('pagesRotation') || new Map()), pagesRotation = _g[0], setPagesRotation = _g[1];\n    var _h = React__namespace.useState(store.get('rotatedPage') || -1), rotatedPage = _h[0], setRotatedPage = _h[1];\n    var _j = React__namespace.useState(store.get('viewMode')), viewMode = _j[0], setViewMode = _j[1];\n    var handleCurrentPageChanged = function (currentPageIndex) {\n        setCurrentPage(currentPageIndex);\n    };\n    var handleDocumentChanged = function (doc) {\n        setCurrentDoc(doc);\n    };\n    var handlePageHeightChanged = function (height) {\n        setPageHeight(height);\n    };\n    var handlePageWidthChanged = function (width) {\n        setPageWidth(width);\n    };\n    var handleRotationChanged = function (currentRotation) {\n        setRotation(currentRotation);\n    };\n    var handlePagesRotationChanged = function (rotations) {\n        setPagesRotation(rotations);\n    };\n    var handleRotatedPage = function (rotatedPage) {\n        setRotatedPage(rotatedPage);\n    };\n    var handleViewModeChanged = function (viewMode) {\n        setViewMode(viewMode);\n    };\n    var jump = function (pageIndex) {\n        var jumpToPage = store.get('jumpToPage');\n        if (jumpToPage) {\n            jumpToPage(pageIndex);\n        }\n    };\n    var rotatePage = function (pageIndex, direction) {\n        store.get('rotatePage')(pageIndex, direction);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('doc', handleDocumentChanged);\n        store.subscribe('pageHeight', handlePageHeightChanged);\n        store.subscribe('pageWidth', handlePageWidthChanged);\n        store.subscribe('rotatedPage', handleRotatedPage);\n        store.subscribe('rotation', handleRotationChanged);\n        store.subscribe('pagesRotation', handlePagesRotationChanged);\n        store.subscribe('viewMode', handleViewModeChanged);\n        return function () {\n            store.unsubscribe('doc', handleDocumentChanged);\n            store.unsubscribe('pageHeight', handlePageHeightChanged);\n            store.unsubscribe('pageWidth', handlePageWidthChanged);\n            store.unsubscribe('rotatedPage', handleRotatedPage);\n            store.unsubscribe('rotation', handleRotationChanged);\n            store.unsubscribe('pagesRotation', handlePagesRotationChanged);\n            store.unsubscribe('viewMode', handleViewModeChanged);\n        };\n    }, []);\n    core.useIsomorphicLayoutEffect(function () {\n        store.subscribe('currentPage', handleCurrentPageChanged);\n        return function () {\n            store.unsubscribe('currentPage', handleCurrentPageChanged);\n        };\n    }, []);\n    return currentDoc ? (React__namespace.createElement(core.LazyRender, { testId: \"thumbnail__list-container\", attrs: {\n            className: 'rpv-thumbnail__list-container',\n        } },\n        React__namespace.createElement(FetchLabels, { doc: currentDoc }, function (labels) { return (React__namespace.createElement(ThumbnailList, { currentPage: currentPage, doc: currentDoc, labels: labels, pagesRotation: pagesRotation, pageHeight: pageHeight, pageWidth: pageWidth, renderCurrentPageLabel: renderCurrentPageLabel, renderThumbnailItem: renderThumbnailItem, rotatedPage: rotatedPage, rotation: rotation, thumbnailDirection: thumbnailDirection, thumbnailWidth: thumbnailWidth, viewMode: viewMode, onJumpToPage: jump, onRotatePage: rotatePage })); }))) : (React__namespace.createElement(\"div\", { \"data-testid\": \"thumbnail-list__loader\", className: \"rpv-thumbnail__loader\" }, React__namespace.useContext(SpinnerContext).renderSpinner()));\n};\n\nvar thumbnailPlugin = function (pluginProps) {\n    var store = React__namespace.useMemo(function () {\n        return core.createStore({\n            rotatePage: function () {\n            },\n            viewMode: core.ViewMode.SinglePage,\n        });\n    }, []);\n    var _a = React__namespace.useState(''), docId = _a[0], setDocId = _a[1];\n    var CoverDecorator = function (props) { return (React__namespace.createElement(Cover, __assign({}, props, { renderSpinner: pluginProps === null || pluginProps === void 0 ? void 0 : pluginProps.renderSpinner, store: store }))); };\n    var ThumbnailsDecorator = React__namespace.useCallback(function (props) { return (React__namespace.createElement(SpinnerContext.Provider, { value: { renderSpinner: (pluginProps === null || pluginProps === void 0 ? void 0 : pluginProps.renderSpinner) || defaultSpinner } },\n        React__namespace.createElement(ThumbnailListWithStore, { renderCurrentPageLabel: pluginProps === null || pluginProps === void 0 ? void 0 : pluginProps.renderCurrentPageLabel, renderThumbnailItem: props === null || props === void 0 ? void 0 : props.renderThumbnailItem, store: store, thumbnailDirection: (props === null || props === void 0 ? void 0 : props.thumbnailDirection) || exports.ThumbnailDirection.Vertical, thumbnailWidth: (pluginProps === null || pluginProps === void 0 ? void 0 : pluginProps.thumbnailWidth) || 100 }))); }, [docId]);\n    return {\n        install: function (pluginFunctions) {\n            store.update('jumpToPage', pluginFunctions.jumpToPage);\n            store.update('rotatePage', pluginFunctions.rotatePage);\n        },\n        onDocumentLoad: function (props) {\n            setDocId(props.doc.loadingTask.docId);\n            store.update('doc', props.doc);\n        },\n        onViewerStateChange: function (viewerState) {\n            store.update('currentPage', viewerState.pageIndex);\n            store.update('pagesRotation', viewerState.pagesRotation);\n            store.update('pageHeight', viewerState.pageHeight);\n            store.update('pageWidth', viewerState.pageWidth);\n            store.update('rotation', viewerState.rotation);\n            store.update('rotatedPage', viewerState.rotatedPage);\n            store.update('viewMode', viewerState.viewMode);\n            return viewerState;\n        },\n        Cover: CoverDecorator,\n        Thumbnails: ThumbnailsDecorator,\n    };\n};\n\nexports.thumbnailPlugin = thumbnailPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlYWN0LXBkZi12aWV3ZXIrdGh1bWJuYWlsQDMuMTIuMF9wZGZqcy1kaXN0QDMuNC4xMjBfcmVhY3QtZG9tQDE5LjAuMF9yZWFjdEAxOS4wLjBfX3JlYWN0QDE5LjAuMC9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvdGh1bWJuYWlsL2xpYi9janMvdGh1bWJuYWlsLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLFdBQVcsbUJBQU8sQ0FBQyx3TUFBd0I7QUFDM0MsWUFBWSxtQkFBTyxDQUFDLCtMQUFPOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxpQ0FBaUMsMEJBQTBCLEtBQUs7O0FBRWpFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsb0JBQW9CO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsVUFBVTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsY0FBYztBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLCtDQUErQyx3REFBd0Q7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxvREFBb0QscUdBQXFHLGlEQUFpRCw0RkFBNEYsOENBQThDLG9GQUFvRjtBQUN4YTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLG9EQUFvRCxtQ0FBbUMsNkRBQTZELHVHQUF1Ryw4Q0FBOEMsMENBQTBDO0FBQ25WOztBQUVBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDZDQUE2QyxzQ0FBc0M7QUFDbkYsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsV0FBVztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsY0FBYztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxrQ0FBa0M7QUFDNUUsMkNBQTJDLGtEQUFrRDtBQUM3RjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMkhBQTJILHdDQUF3QyxXQUFXLDBIQUEwSDtBQUN4Uzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsVUFBVTtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBLFdBQVcsMkhBQTJILDBOQUEwTjtBQUNoVzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxVQUFVO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxtQkFBbUI7QUFDOUQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDBGQUEwRjtBQUNqSTtBQUNBO0FBQ0EsOEVBQThFLG1TQUFtUztBQUNqWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxpQ0FBaUM7QUFDekUsaURBQWlELDRDQUE0QztBQUM3RixTQUFTLDhDQUE4QyxVQUFVO0FBQ2pFLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdGQUF3RixtQ0FBbUM7QUFDNUksb0RBQW9ELHlGQUF5RjtBQUM3STtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNkJBQTZCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGtEQUFrRCx1Q0FBdUMsd0NBQXdDO0FBQzlJLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCwyRUFBMkU7QUFDM0U7QUFDQSxXQUFXO0FBQ1gsc0RBQXNELGlCQUFpQixzQkFBc0Isd0RBQXdELHlaQUF5WixLQUFLLCtDQUErQyw2RUFBNkU7QUFDL3FCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLDRDQUE0Qyx5REFBeUQsV0FBVyxrSEFBa0g7QUFDbE8sOEVBQThFLGtFQUFrRSxTQUFTLDBIQUEwSDtBQUNuUixpRUFBaUUsc2RBQXNkLE1BQU07QUFDN2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCIiwic291cmNlcyI6WyIvaG9tZS9ub2UtY2FtcG8vZGVsb3MvcHJvamV0L2xhYi1rcy9rcy1sYWIvbm9kZV9tb2R1bGVzLy5wbnBtL0ByZWFjdC1wZGYtdmlld2VyK3RodW1ibmFpbEAzLjEyLjBfcGRmanMtZGlzdEAzLjQuMTIwX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL3RodW1ibmFpbC9saWIvY2pzL3RodW1ibmFpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBjb3JlID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvY29yZScpO1xudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BOYW1lc3BhY2VEZWZhdWx0KGUpIHtcbiAgICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgaWYgKGUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgaWYgKGsgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCBrKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgaywgZC5nZXQgPyBkIDoge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVba107IH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG4uZGVmYXVsdCA9IGU7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUobik7XG59XG5cbnZhciBSZWFjdF9fbmFtZXNwYWNlID0gLyojX19QVVJFX18qL19pbnRlcm9wTmFtZXNwYWNlRGVmYXVsdChSZWFjdCk7XG5cbmV4cG9ydHMuVGh1bWJuYWlsRGlyZWN0aW9uID0gdm9pZCAwO1xuKGZ1bmN0aW9uIChUaHVtYm5haWxEaXJlY3Rpb24pIHtcbiAgICBUaHVtYm5haWxEaXJlY3Rpb25bXCJIb3Jpem9udGFsXCJdID0gXCJIb3Jpem9udGFsXCI7XG4gICAgVGh1bWJuYWlsRGlyZWN0aW9uW1wiVmVydGljYWxcIl0gPSBcIlZlcnRpY2FsXCI7XG59KShleHBvcnRzLlRodW1ibmFpbERpcmVjdGlvbiB8fCAoZXhwb3J0cy5UaHVtYm5haWxEaXJlY3Rpb24gPSB7fSkpO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XG5cbnZhciBDb3ZlcklubmVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRvYyA9IF9hLmRvYywgZ2V0UGFnZUluZGV4ID0gX2EuZ2V0UGFnZUluZGV4LCByZW5kZXJTcGlubmVyID0gX2EucmVuZGVyU3Bpbm5lciwgc3RvcmUgPSBfYS5zdG9yZSwgd2lkdGggPSBfYS53aWR0aDtcbiAgICB2YXIgbnVtUGFnZXMgPSBkb2MubnVtUGFnZXM7XG4gICAgdmFyIHRhcmdldFBhZ2UgPSBnZXRQYWdlSW5kZXggPyBnZXRQYWdlSW5kZXgoeyBudW1QYWdlczogbnVtUGFnZXMgfSkgOiAwO1xuICAgIHZhciBub3JtYWxpemVQYWdlID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odGFyZ2V0UGFnZSwgbnVtUGFnZXMgLSAxKSk7XG4gICAgdmFyIGluaXRpYWxQYWdlc1JvdGF0aW9uID0gc3RvcmUuZ2V0KCdwYWdlc1JvdGF0aW9uJykgfHwgbmV3IE1hcCgpO1xuICAgIHZhciBpbml0aWFsVGFyZ2V0UGFnZVJvdGF0aW9uID0gaW5pdGlhbFBhZ2VzUm90YXRpb24uaGFzKG5vcm1hbGl6ZVBhZ2UpXG4gICAgICAgID8gaW5pdGlhbFBhZ2VzUm90YXRpb24uZ2V0KG5vcm1hbGl6ZVBhZ2UpXG4gICAgICAgIDogMDtcbiAgICB2YXIgX2IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKCcnKSwgc3JjID0gX2JbMF0sIHNldFNyYyA9IF9iWzFdO1xuICAgIHZhciBpc01vdW50ZWQgPSBjb3JlLnVzZUlzTW91bnRlZCgpO1xuICAgIHZhciByZW5kZXJUYXNrID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoKTtcbiAgICB2YXIgX2MgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHN0b3JlLmdldCgncm90YXRpb24nKSB8fCAwKSwgcm90YXRpb24gPSBfY1swXSwgc2V0Um90YXRpb24gPSBfY1sxXTtcbiAgICB2YXIgX2QgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKGluaXRpYWxUYXJnZXRQYWdlUm90YXRpb24pLCBwYWdlUm90YXRpb24gPSBfZFswXSwgc2V0UGFnZVJvdGF0aW9uID0gX2RbMV07XG4gICAgdmFyIF9lID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShmYWxzZSksIGlzVmlzaWJsZSA9IF9lWzBdLCBzZXRWaXNpYmxlID0gX2VbMV07XG4gICAgdmFyIGhhbmRsZVBhZ2VzUm90YXRpb25DaGFuZ2VkID0gZnVuY3Rpb24gKHJvdGF0aW9ucykge1xuICAgICAgICB2YXIgcGFnZVJvdGF0aW9uID0gcm90YXRpb25zLmhhcyhub3JtYWxpemVQYWdlKSA/IHJvdGF0aW9ucy5nZXQobm9ybWFsaXplUGFnZSkgOiAwO1xuICAgICAgICBzZXRQYWdlUm90YXRpb24ocGFnZVJvdGF0aW9uKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVSb3RhdGlvbkNoYW5nZWQgPSBmdW5jdGlvbiAoY3VycmVudFJvdGF0aW9uKSB7XG4gICAgICAgIHNldFJvdGF0aW9uKGN1cnJlbnRSb3RhdGlvbik7XG4gICAgfTtcbiAgICB2YXIgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZWQgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgIHNldFZpc2libGUocGFyYW1zLmlzVmlzaWJsZSk7XG4gICAgfTtcbiAgICB2YXIgY29udGFpbmVyUmVmID0gY29yZS51c2VJbnRlcnNlY3Rpb25PYnNlcnZlcih7XG4gICAgICAgIG9uVmlzaWJpbGl0eUNoYW5nZWQ6IGhhbmRsZVZpc2liaWxpdHlDaGFuZ2VkLFxuICAgIH0pO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGFpbmVyRWxlID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyRWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0U3JjKCcnKTtcbiAgICAgICAgY29yZS5nZXRQYWdlKGRvYywgbm9ybWFsaXplUGFnZSkudGhlbihmdW5jdGlvbiAocGFnZSkge1xuICAgICAgICAgICAgdmFyIHZpZXdwb3J0ID0gcGFnZS5nZXRWaWV3cG9ydCh7IHNjYWxlOiAxIH0pO1xuICAgICAgICAgICAgdmFyIHZpZXdwb3J0Um90YXRpb24gPSB2aWV3cG9ydC5yb3RhdGlvbjtcbiAgICAgICAgICAgIHZhciByb3RhdGlvblZhbHVlID0gKHZpZXdwb3J0Um90YXRpb24gKyByb3RhdGlvbiArIHBhZ2VSb3RhdGlvbikgJSAzNjA7XG4gICAgICAgICAgICB2YXIgaXNWZXJ0aWNhbCA9IE1hdGguYWJzKHJvdGF0aW9uICsgcGFnZVJvdGF0aW9uKSAlIDE4MCA9PT0gMDtcbiAgICAgICAgICAgIHZhciB3ID0gaXNWZXJ0aWNhbCA/IHZpZXdwb3J0LndpZHRoIDogdmlld3BvcnQuaGVpZ2h0O1xuICAgICAgICAgICAgdmFyIGggPSBpc1ZlcnRpY2FsID8gdmlld3BvcnQuaGVpZ2h0IDogdmlld3BvcnQud2lkdGg7XG4gICAgICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICB2YXIgY2FudmFzQ29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHsgYWxwaGE6IGZhbHNlIH0pO1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lcldpZHRoID0gY29udGFpbmVyRWxlLmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lckhlaWdodCA9IGNvbnRhaW5lckVsZS5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICB2YXIgc2NhbGVkID0gd2lkdGggPyB3aWR0aCAvIHcgOiBNYXRoLm1pbihjb250YWluZXJXaWR0aCAvIHcsIGNvbnRhaW5lckhlaWdodCAvIGgpO1xuICAgICAgICAgICAgdmFyIGNhbnZhc1dpZHRoID0gc2NhbGVkICogdztcbiAgICAgICAgICAgIHZhciBjYW52YXNIZWlnaHQgPSBzY2FsZWQgKiBoO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhc0hlaWdodDtcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoO1xuICAgICAgICAgICAgY2FudmFzLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgICAgICAgICB2YXIgcmVuZGVyVmlld3BvcnQgPSBwYWdlLmdldFZpZXdwb3J0KHtcbiAgICAgICAgICAgICAgICByb3RhdGlvbjogcm90YXRpb25WYWx1ZSxcbiAgICAgICAgICAgICAgICBzY2FsZTogc2NhbGVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZW5kZXJUYXNrLmN1cnJlbnQgPSBwYWdlLnJlbmRlcih7IGNhbnZhc0NvbnRleHQ6IGNhbnZhc0NvbnRleHQsIHZpZXdwb3J0OiByZW5kZXJWaWV3cG9ydCB9KTtcbiAgICAgICAgICAgIHJlbmRlclRhc2suY3VycmVudC5wcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlzTW91bnRlZC5jdXJyZW50ICYmIHNldFNyYyhjYW52YXMudG9EYXRhVVJMKCkpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IDA7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSwgW3BhZ2VSb3RhdGlvbiwgaXNWaXNpYmxlXSk7XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ3BhZ2VzUm90YXRpb24nLCBoYW5kbGVQYWdlc1JvdGF0aW9uQ2hhbmdlZCk7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgncm90YXRpb24nLCBoYW5kbGVSb3RhdGlvbkNoYW5nZWQpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ3BhZ2VzUm90YXRpb24nLCBoYW5kbGVQYWdlc1JvdGF0aW9uQ2hhbmdlZCk7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgncm90YXRpb24nLCBoYW5kbGVSb3RhdGlvbkNoYW5nZWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSByZW5kZXJUYXNrLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5jZWwoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IGNvbnRhaW5lclJlZiwgY2xhc3NOYW1lOiBcInJwdi10aHVtYm5haWxfX2NvdmVyLWlubmVyXCIsIFwiZGF0YS10ZXN0aWRcIjogXCJ0aHVtYm5haWxfX2NvdmVyLWlubmVyXCIgfSwgc3JjID8gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7IGNsYXNzTmFtZTogXCJycHYtdGh1bWJuYWlsX19jb3Zlci1pbWFnZVwiLCBcImRhdGEtdGVzdGlkXCI6IFwidGh1bWJuYWlsX19jb3Zlci1pbWFnZVwiLCBzcmM6IHNyYyB9KSkgOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi10aHVtYm5haWxfX2NvdmVyLWxvYWRlclwiLCBcImRhdGEtdGVzdGlkXCI6IFwidGh1bWJuYWlsX19jb3Zlci1sb2FkZXJcIiB9LCByZW5kZXJTcGlubmVyID8gcmVuZGVyU3Bpbm5lcigpIDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuU3Bpbm5lciwgbnVsbCkpKSkpO1xufTtcblxudmFyIENvdmVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGdldFBhZ2VJbmRleCA9IF9hLmdldFBhZ2VJbmRleCwgcmVuZGVyU3Bpbm5lciA9IF9hLnJlbmRlclNwaW5uZXIsIHN0b3JlID0gX2Euc3RvcmUsIHdpZHRoID0gX2Eud2lkdGg7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShzdG9yZS5nZXQoJ2RvYycpKSwgY3VycmVudERvYyA9IF9iWzBdLCBzZXRDdXJyZW50RG9jID0gX2JbMV07XG4gICAgdmFyIGhhbmRsZURvY3VtZW50Q2hhbmdlZCA9IGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgc2V0Q3VycmVudERvYyhkb2MpO1xuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ2RvYycsIGhhbmRsZURvY3VtZW50Q2hhbmdlZCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgnZG9jJywgaGFuZGxlRG9jdW1lbnRDaGFuZ2VkKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXRodW1ibmFpbF9fY292ZXJcIiB9LCBjdXJyZW50RG9jID8gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChDb3ZlcklubmVyLCB7IGRvYzogY3VycmVudERvYywgZ2V0UGFnZUluZGV4OiBnZXRQYWdlSW5kZXgsIHJlbmRlclNwaW5uZXI6IHJlbmRlclNwaW5uZXIsIHN0b3JlOiBzdG9yZSwgd2lkdGg6IHdpZHRoIH0pKSA6IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXRodW1ibmFpbF9fY292ZXItbG9hZGVyXCIgfSwgcmVuZGVyU3Bpbm5lciA/IHJlbmRlclNwaW5uZXIoKSA6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlNwaW5uZXIsIG51bGwpKSkpKTtcbn07XG5cbnZhciBkZWZhdWx0U3Bpbm5lciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlNwaW5uZXIsIG51bGwpOyB9O1xudmFyIFNwaW5uZXJDb250ZXh0ID0gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVDb250ZXh0KHtcbiAgICByZW5kZXJTcGlubmVyOiBkZWZhdWx0U3Bpbm5lcixcbn0pO1xuXG52YXIgRmV0Y2hMYWJlbHMgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgZG9jID0gX2EuZG9jO1xuICAgIHZhciBpc01vdW50ZWQgPSBjb3JlLnVzZUlzTW91bnRlZCgpO1xuICAgIHZhciBfYiA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoe1xuICAgICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgICBsYWJlbHM6IFtdLFxuICAgIH0pLCBzdGF0dXMgPSBfYlswXSwgc2V0U3RhdHVzID0gX2JbMV07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBkb2MuZ2V0UGFnZUxhYmVscygpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaXNNb3VudGVkLmN1cnJlbnQgJiYgc2V0U3RhdHVzKHsgbG9hZGluZzogZmFsc2UsIGxhYmVsczogcmVzdWx0IHx8IFtdIH0pO1xuICAgICAgICB9KTtcbiAgICB9LCBbZG9jLmxvYWRpbmdUYXNrLmRvY0lkXSk7XG4gICAgcmV0dXJuIHN0YXR1cy5sb2FkaW5nID8gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwpIDogY2hpbGRyZW4oc3RhdHVzLmxhYmVscyk7XG59O1xuXG52YXIgc2Nyb2xsVG9CZVZpc2libGVWZXJ0aWNhbGx5ID0gZnVuY3Rpb24gKGVsZSwgY29udGFpbmVyKSB7XG4gICAgdmFyIHRvcCA9IGVsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgIHZhciBlbGVIZWlnaHQgPSBlbGUuY2xpZW50SGVpZ2h0O1xuICAgIHZhciBjb250YWluZXJIZWlnaHQgPSBjb250YWluZXIuY2xpZW50SGVpZ2h0O1xuICAgIGlmICh0b3AgPCAwKSB7XG4gICAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgKz0gdG9wO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0b3AgKyBlbGVIZWlnaHQgPD0gY29udGFpbmVySGVpZ2h0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29udGFpbmVyLnNjcm9sbFRvcCArPSB0b3AgKyBlbGVIZWlnaHQgLSBjb250YWluZXJIZWlnaHQ7XG59O1xudmFyIHNjcm9sbFRvQmVWaXNpYmxlSG9yaXpvbnRhbGx5ID0gZnVuY3Rpb24gKGVsZSwgY29udGFpbmVyKSB7XG4gICAgdmFyIGxlZnQgPSBlbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCAtIGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuICAgIHZhciBlbGVXaWR0aCA9IGVsZS5jbGllbnRXaWR0aDtcbiAgICB2YXIgY29udGFpbmVyV2lkdGggPSBjb250YWluZXIuY2xpZW50V2lkdGg7XG4gICAgaWYgKGxlZnQgPCAwKSB7XG4gICAgICAgIGNvbnRhaW5lci5zY3JvbGxMZWZ0ICs9IGxlZnQ7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGxlZnQgKyBlbGVXaWR0aCA8PSBjb250YWluZXJXaWR0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnRhaW5lci5zY3JvbGxMZWZ0ICs9IGxlZnQgKyBlbGVXaWR0aCAtIGNvbnRhaW5lcldpZHRoO1xufTtcblxudmFyIFRodW1ibmFpbEl0ZW0gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgcGFnZSA9IF9hLnBhZ2UsIHBhZ2VIZWlnaHQgPSBfYS5wYWdlSGVpZ2h0LCBwYWdlSW5kZXggPSBfYS5wYWdlSW5kZXgsIHBhZ2VXaWR0aCA9IF9hLnBhZ2VXaWR0aCwgcm90YXRpb24gPSBfYS5yb3RhdGlvbiwgdGh1bWJuYWlsSGVpZ2h0ID0gX2EudGh1bWJuYWlsSGVpZ2h0LCB0aHVtYm5haWxXaWR0aCA9IF9hLnRodW1ibmFpbFdpZHRoLCBvblJlbmRlckNvbXBsZXRlZCA9IF9hLm9uUmVuZGVyQ29tcGxldGVkO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgcmVuZGVyVGFzayA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSgnJyksIHNyYyA9IF9iWzBdLCBzZXRTcmMgPSBfYlsxXTtcbiAgICB2YXIgdGh1bWJuYWlsTGFiZWwgPSBsMTBuICYmIGwxMG4udGh1bWJuYWlsXG4gICAgICAgID8gbDEwbi50aHVtYm5haWwudGh1bWJuYWlsTGFiZWxcbiAgICAgICAgOiAnVGh1bWJuYWlsIG9mIHBhZ2Uge3twYWdlSW5kZXh9fSc7XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGFzayA9IHJlbmRlclRhc2suY3VycmVudDtcbiAgICAgICAgaWYgKHRhc2spIHtcbiAgICAgICAgICAgIHRhc2suY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB2YXIgY2FudmFzQ29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHsgYWxwaGE6IGZhbHNlIH0pO1xuICAgICAgICB2YXIgdyA9IHRodW1ibmFpbFdpZHRoO1xuICAgICAgICB2YXIgaCA9IHcgLyAocGFnZVdpZHRoIC8gcGFnZUhlaWdodCk7XG4gICAgICAgIHZhciBzY2FsZSA9IHcgLyBwYWdlV2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoO1xuICAgICAgICBjYW52YXMud2lkdGggPSB3O1xuICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gXCJcIi5jb25jYXQoaCwgXCJweFwiKTtcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gXCJcIi5jb25jYXQodywgXCJweFwiKTtcbiAgICAgICAgdmFyIHZpZXdwb3J0ID0gcGFnZS5nZXRWaWV3cG9ydCh7IHJvdGF0aW9uOiByb3RhdGlvbiwgc2NhbGU6IHNjYWxlIH0pO1xuICAgICAgICByZW5kZXJUYXNrLmN1cnJlbnQgPSBwYWdlLnJlbmRlcih7IGNhbnZhc0NvbnRleHQ6IGNhbnZhc0NvbnRleHQsIHZpZXdwb3J0OiB2aWV3cG9ydCB9KTtcbiAgICAgICAgcmVuZGVyVGFzay5jdXJyZW50LnByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRTcmMoY2FudmFzLnRvRGF0YVVSTCgpKTtcbiAgICAgICAgICAgIG9uUmVuZGVyQ29tcGxldGVkKHBhZ2VJbmRleCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9uUmVuZGVyQ29tcGxldGVkKHBhZ2VJbmRleCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gcmVuZGVyVGFzay5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuY2VsKCk7XG4gICAgICAgIH07XG4gICAgfSwgW3JvdGF0aW9uXSk7XG4gICAgcmV0dXJuICFzcmMgPyAoUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KFNwaW5uZXJDb250ZXh0KS5yZW5kZXJTcGlubmVyKCkpIDogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7IFwiYXJpYS1sYWJlbFwiOiB0aHVtYm5haWxMYWJlbC5yZXBsYWNlKCd7e3BhZ2VJbmRleH19JywgXCJcIi5jb25jYXQocGFnZUluZGV4ICsgMSkpLCBzcmM6IHNyYywgaGVpZ2h0OiBcIlwiLmNvbmNhdCh0aHVtYm5haWxIZWlnaHQsIFwicHhcIiksIHdpZHRoOiBcIlwiLmNvbmNhdCh0aHVtYm5haWxXaWR0aCwgXCJweFwiKSB9KSk7XG59O1xuXG52YXIgVGh1bWJuYWlsQ29udGFpbmVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRvYyA9IF9hLmRvYywgcGFnZUhlaWdodCA9IF9hLnBhZ2VIZWlnaHQsIHBhZ2VJbmRleCA9IF9hLnBhZ2VJbmRleCwgcGFnZVJvdGF0aW9uID0gX2EucGFnZVJvdGF0aW9uLCBwYWdlV2lkdGggPSBfYS5wYWdlV2lkdGgsIHJvdGF0aW9uID0gX2Eucm90YXRpb24sIHNob3VsZFJlbmRlciA9IF9hLnNob3VsZFJlbmRlciwgdGh1bWJuYWlsV2lkdGggPSBfYS50aHVtYm5haWxXaWR0aCwgb25SZW5kZXJDb21wbGV0ZWQgPSBfYS5vblJlbmRlckNvbXBsZXRlZCwgb25WaXNpYmlsaXR5Q2hhbmdlZCA9IF9hLm9uVmlzaWJpbGl0eUNoYW5nZWQ7XG4gICAgdmFyIGlzTW91bnRlZCA9IGNvcmUudXNlSXNNb3VudGVkKCk7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSh7XG4gICAgICAgIGhlaWdodDogcGFnZUhlaWdodCxcbiAgICAgICAgcGFnZTogbnVsbCxcbiAgICAgICAgdmlld3BvcnRSb3RhdGlvbjogMCxcbiAgICAgICAgd2lkdGg6IHBhZ2VXaWR0aCxcbiAgICB9KSwgcGFnZVNpemUgPSBfYlswXSwgc2V0UGFnZVNpemUgPSBfYlsxXTtcbiAgICB2YXIgcGFnZSA9IHBhZ2VTaXplLnBhZ2UsIGhlaWdodCA9IHBhZ2VTaXplLmhlaWdodCwgd2lkdGggPSBwYWdlU2l6ZS53aWR0aDtcbiAgICB2YXIgc2NhbGUgPSB3aWR0aCAvIGhlaWdodDtcbiAgICB2YXIgaXNWZXJ0aWNhbCA9IE1hdGguYWJzKHJvdGF0aW9uICsgcGFnZVJvdGF0aW9uKSAlIDE4MCA9PT0gMDtcbiAgICB2YXIgdyA9IGlzVmVydGljYWwgPyB0aHVtYm5haWxXaWR0aCA6IHRodW1ibmFpbFdpZHRoIC8gc2NhbGU7XG4gICAgdmFyIGggPSBpc1ZlcnRpY2FsID8gdGh1bWJuYWlsV2lkdGggLyBzY2FsZSA6IHRodW1ibmFpbFdpZHRoO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHNob3VsZFJlbmRlcikge1xuICAgICAgICAgICAgY29yZS5nZXRQYWdlKGRvYywgcGFnZUluZGV4KS50aGVuKGZ1bmN0aW9uIChwZGZQYWdlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZpZXdwb3J0ID0gcGRmUGFnZS5nZXRWaWV3cG9ydCh7IHNjYWxlOiAxIH0pO1xuICAgICAgICAgICAgICAgIGlzTW91bnRlZC5jdXJyZW50ICYmXG4gICAgICAgICAgICAgICAgICAgIHNldFBhZ2VTaXplKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogdmlld3BvcnQuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogcGRmUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0Um90YXRpb246IHZpZXdwb3J0LnJvdGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHZpZXdwb3J0LndpZHRoLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwgW3Nob3VsZFJlbmRlcl0pO1xuICAgIHZhciByb3RhdGlvbk51bWJlciA9IChwYWdlU2l6ZS52aWV3cG9ydFJvdGF0aW9uICsgcm90YXRpb24gKyBwYWdlUm90YXRpb24pICUgMzYwO1xuICAgIHZhciBjb250YWluZXJSZWYgPSBjb3JlLnVzZUludGVyc2VjdGlvbk9ic2VydmVyKHtcbiAgICAgICAgb25WaXNpYmlsaXR5Q2hhbmdlZDogZnVuY3Rpb24gKHZpc2liaWxpdHkpIHtcbiAgICAgICAgICAgIG9uVmlzaWJpbGl0eUNoYW5nZWQocGFnZUluZGV4LCB2aXNpYmlsaXR5KTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtdGh1bWJuYWlsX19jb250YWluZXJcIiwgXCJkYXRhLXRlc3RpZFwiOiBcInRodW1ibmFpbF9fY29udGFpbmVyLVwiLmNvbmNhdChwYWdlSW5kZXgpLCByZWY6IGNvbnRhaW5lclJlZiwgc3R5bGU6IHtcbiAgICAgICAgICAgIGhlaWdodDogXCJcIi5jb25jYXQoaCwgXCJweFwiKSxcbiAgICAgICAgICAgIHdpZHRoOiBcIlwiLmNvbmNhdCh3LCBcInB4XCIpLFxuICAgICAgICB9IH0sICFwYWdlID8gKFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChTcGlubmVyQ29udGV4dCkucmVuZGVyU3Bpbm5lcigpKSA6IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoVGh1bWJuYWlsSXRlbSwgeyBwYWdlOiBwYWdlLCBwYWdlSGVpZ2h0OiBpc1ZlcnRpY2FsID8gaGVpZ2h0IDogd2lkdGgsIHBhZ2VJbmRleDogcGFnZUluZGV4LCBwYWdlV2lkdGg6IGlzVmVydGljYWwgPyB3aWR0aCA6IGhlaWdodCwgcm90YXRpb246IHJvdGF0aW9uTnVtYmVyLCB0aHVtYm5haWxIZWlnaHQ6IGgsIHRodW1ibmFpbFdpZHRoOiB3LCBvblJlbmRlckNvbXBsZXRlZDogb25SZW5kZXJDb21wbGV0ZWQgfSkpKSk7XG59O1xuXG52YXIgVGh1bWJuYWlsTGlzdCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjdXJyZW50UGFnZSA9IF9hLmN1cnJlbnRQYWdlLCBkb2MgPSBfYS5kb2MsIGxhYmVscyA9IF9hLmxhYmVscywgcGFnZXNSb3RhdGlvbiA9IF9hLnBhZ2VzUm90YXRpb24sIHBhZ2VIZWlnaHQgPSBfYS5wYWdlSGVpZ2h0LCBwYWdlV2lkdGggPSBfYS5wYWdlV2lkdGgsIHJlbmRlckN1cnJlbnRQYWdlTGFiZWwgPSBfYS5yZW5kZXJDdXJyZW50UGFnZUxhYmVsLCByZW5kZXJUaHVtYm5haWxJdGVtID0gX2EucmVuZGVyVGh1bWJuYWlsSXRlbSwgcm90YXRlZFBhZ2UgPSBfYS5yb3RhdGVkUGFnZSwgcm90YXRpb24gPSBfYS5yb3RhdGlvbiwgdGh1bWJuYWlsRGlyZWN0aW9uID0gX2EudGh1bWJuYWlsRGlyZWN0aW9uLCB0aHVtYm5haWxXaWR0aCA9IF9hLnRodW1ibmFpbFdpZHRoLCB2aWV3TW9kZSA9IF9hLnZpZXdNb2RlLCBvbkp1bXBUb1BhZ2UgPSBfYS5vbkp1bXBUb1BhZ2UsIG9uUm90YXRlUGFnZSA9IF9hLm9uUm90YXRlUGFnZTtcbiAgICB2YXIgbnVtUGFnZXMgPSBkb2MubnVtUGFnZXM7XG4gICAgdmFyIGRvY0lkID0gZG9jLmxvYWRpbmdUYXNrLmRvY0lkO1xuICAgIHZhciBjb250YWluZXJSZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZihudWxsKTtcbiAgICB2YXIgdGh1bWJuYWlsc1JlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKFtdKTtcbiAgICB2YXIgX2IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKGN1cnJlbnRQYWdlKSwgY3VycmVudEZvY3VzZWQgPSBfYlswXSwgc2V0Q3VycmVudEZvY3VzZWQgPSBfYlsxXTtcbiAgICB2YXIgZGlyZWN0aW9uID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuVGhlbWVDb250ZXh0KS5kaXJlY3Rpb247XG4gICAgdmFyIGlzUnRsID0gZGlyZWN0aW9uID09PSBjb3JlLlRleHREaXJlY3Rpb24uUmlnaHRUb0xlZnQ7XG4gICAgdmFyIF9jID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSgtMSksIHJlbmRlclBhZ2VJbmRleCA9IF9jWzBdLCBzZXRSZW5kZXJQYWdlSW5kZXggPSBfY1sxXTtcbiAgICB2YXIgaXNNb3VudGVkID0gY29yZS51c2VJc01vdW50ZWQoKTtcbiAgICB2YXIgcHJldmlvdXNWaWV3TW9kZSA9IGNvcmUudXNlUHJldmlvdXModmlld01vZGUpO1xuICAgIHZhciBoYXNSZW5kZXJpbmdUaHVtYm5haWxSZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZihmYWxzZSk7XG4gICAgdmFyIHJlbmRlclF1ZXVlID0gY29yZS51c2VSZW5kZXJRdWV1ZSh7IGRvYzogZG9jIH0pO1xuICAgIHZhciBwYWdlSW5kZXhlcyA9IFJlYWN0X19uYW1lc3BhY2UudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBBcnJheShudW1QYWdlcylcbiAgICAgICAgICAgIC5maWxsKDApXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChfLCBwYWdlSW5kZXgpIHsgcmV0dXJuIHBhZ2VJbmRleDsgfSk7XG4gICAgfSwgW2RvY0lkXSk7XG4gICAgdmFyIGNodW5rcyA9IFJlYWN0X19uYW1lc3BhY2UudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN3aXRjaCAodmlld01vZGUpIHtcbiAgICAgICAgICAgIGNhc2UgY29yZS5WaWV3TW9kZS5EdWFsUGFnZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5jaHVuayhwYWdlSW5kZXhlcywgMik7XG4gICAgICAgICAgICBjYXNlIGNvcmUuVmlld01vZGUuRHVhbFBhZ2VXaXRoQ292ZXI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtbcGFnZUluZGV4ZXNbMF1dXS5jb25jYXQoY29yZS5jaHVuayhwYWdlSW5kZXhlcy5zbGljZSgxKSwgMikpO1xuICAgICAgICAgICAgY2FzZSBjb3JlLlZpZXdNb2RlLlNpbmdsZVBhZ2U6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLmNodW5rKHBhZ2VJbmRleGVzLCAxKTtcbiAgICAgICAgfVxuICAgIH0sIFtkb2NJZCwgdmlld01vZGVdKTtcbiAgICB2YXIgaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ0Fycm93RG93bic6XG4gICAgICAgICAgICAgICAgYWN0aXZhdGVOZXh0SXRlbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgICAgICAgICAgYWN0aXZhdGVQcmV2aW91c0l0ZW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgICAgICAgICBqdW1wVG9Gb2N1c2VkUGFnZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgYWN0aXZhdGVOZXh0SXRlbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpdGVtcyA9IHRodW1ibmFpbHNSZWYuY3VycmVudDtcbiAgICAgICAgdmFyIG5leHRJdGVtID0gY3VycmVudEZvY3VzZWQgKyAxO1xuICAgICAgICBpZiAobmV4dEl0ZW0gPCBpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Rm9jdXNlZCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgaXRlbXNbY3VycmVudEZvY3VzZWRdLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEN1cnJlbnRGb2N1c2VkKG5leHRJdGVtKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGFjdGl2YXRlUHJldmlvdXNJdGVtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGFpbmVyID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGl0ZW1zID0gdGh1bWJuYWlsc1JlZi5jdXJyZW50O1xuICAgICAgICB2YXIgcHJldkl0ZW0gPSBjdXJyZW50Rm9jdXNlZCAtIDE7XG4gICAgICAgIGlmIChwcmV2SXRlbSA+PSAwKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudEZvY3VzZWQgPj0gMCkge1xuICAgICAgICAgICAgICAgIGl0ZW1zW2N1cnJlbnRGb2N1c2VkXS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRDdXJyZW50Rm9jdXNlZChwcmV2SXRlbSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBqdW1wVG9Gb2N1c2VkUGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRGb2N1c2VkID49IDAgJiYgY3VycmVudEZvY3VzZWQgPCBudW1QYWdlcykge1xuICAgICAgICAgICAgb25KdW1wVG9QYWdlKGN1cnJlbnRGb2N1c2VkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29yZS51c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRodW1ibmFpbHNSZWYuY3VycmVudCA9IEFycmF5LmZyb20oY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5ycHYtdGh1bWJuYWlsX19pdGVtJykpO1xuICAgIH0sIFt2aWV3TW9kZV0pO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRodW1ibmFpbHMgPSB0aHVtYm5haWxzUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICh0aHVtYm5haWxzLmxlbmd0aCA9PT0gMCB8fCBjdXJyZW50Rm9jdXNlZCA8IDAgfHwgY3VycmVudEZvY3VzZWQgPiB0aHVtYm5haWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aHVtYm5haWxFbGUgPSB0aHVtYm5haWxzW2N1cnJlbnRGb2N1c2VkXTtcbiAgICAgICAgdGh1bWJuYWlsRWxlLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgICAgICB0aHVtYm5haWxFbGUuZm9jdXMoKTtcbiAgICB9LCBbY3VycmVudEZvY3VzZWRdKTtcbiAgICBjb3JlLnVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGFpbmVyID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIHZhciB0aHVtYm5haWxzID0gdGh1bWJuYWlsc1JlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lciB8fCB0aHVtYm5haWxzLmxlbmd0aCA9PT0gMCB8fCBjdXJyZW50UGFnZSA8IDAgfHwgY3VycmVudFBhZ2UgPiB0aHVtYm5haWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aHVtYm5haWxDb250YWluZXIgPSB0aHVtYm5haWxzW2N1cnJlbnRQYWdlXS5jbG9zZXN0KCcucnB2LXRodW1ibmFpbF9faXRlbXMnKTtcbiAgICAgICAgaWYgKHRodW1ibmFpbENvbnRhaW5lcikge1xuICAgICAgICAgICAgdGh1bWJuYWlsRGlyZWN0aW9uID09PSBleHBvcnRzLlRodW1ibmFpbERpcmVjdGlvbi5WZXJ0aWNhbFxuICAgICAgICAgICAgICAgID8gc2Nyb2xsVG9CZVZpc2libGVWZXJ0aWNhbGx5KHRodW1ibmFpbENvbnRhaW5lciwgY29udGFpbmVyKVxuICAgICAgICAgICAgICAgIDogc2Nyb2xsVG9CZVZpc2libGVIb3Jpem9udGFsbHkodGh1bWJuYWlsQ29udGFpbmVyLCBjb250YWluZXIpO1xuICAgICAgICB9XG4gICAgfSwgW2N1cnJlbnRQYWdlLCB0aHVtYm5haWxEaXJlY3Rpb25dKTtcbiAgICB2YXIgaGFuZGxlUmVuZGVyQ29tcGxldGVkID0gUmVhY3RfX25hbWVzcGFjZS51c2VDYWxsYmFjayhmdW5jdGlvbiAocGFnZUluZGV4KSB7XG4gICAgICAgIGlmIChpc01vdW50ZWQuY3VycmVudCkge1xuICAgICAgICAgICAgcmVuZGVyUXVldWUubWFya1JlbmRlcmVkKHBhZ2VJbmRleCk7XG4gICAgICAgICAgICBoYXNSZW5kZXJpbmdUaHVtYm5haWxSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgcmVuZGVyTmV4dFRodW1ibmFpbCgpO1xuICAgICAgICB9XG4gICAgfSwgW2RvY0lkXSk7XG4gICAgdmFyIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2VkID0gUmVhY3RfX25hbWVzcGFjZS51c2VDYWxsYmFjayhmdW5jdGlvbiAocGFnZUluZGV4LCB2aXNpYmlsaXR5KSB7XG4gICAgICAgIHZpc2liaWxpdHkuaXNWaXNpYmxlXG4gICAgICAgICAgICA/IHJlbmRlclF1ZXVlLnNldFZpc2liaWxpdHkocGFnZUluZGV4LCB2aXNpYmlsaXR5LnJhdGlvKVxuICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgIHJlbmRlclF1ZXVlLnNldE91dE9mUmFuZ2UocGFnZUluZGV4KTtcbiAgICAgICAgcmVuZGVyTmV4dFRodW1ibmFpbCgpO1xuICAgIH0sIFtkb2NJZF0pO1xuICAgIHZhciByZW5kZXJOZXh0VGh1bWJuYWlsID0gUmVhY3RfX25hbWVzcGFjZS51c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChoYXNSZW5kZXJpbmdUaHVtYm5haWxSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXh0UGFnZSA9IHJlbmRlclF1ZXVlLmdldEhpZ2hlc3RQcmlvcml0eVBhZ2UoKTtcbiAgICAgICAgaWYgKG5leHRQYWdlID4gLTEpIHtcbiAgICAgICAgICAgIHJlbmRlclF1ZXVlLm1hcmtSZW5kZXJpbmcobmV4dFBhZ2UpO1xuICAgICAgICAgICAgaGFzUmVuZGVyaW5nVGh1bWJuYWlsUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgc2V0UmVuZGVyUGFnZUluZGV4KG5leHRQYWdlKTtcbiAgICAgICAgfVxuICAgIH0sIFtkb2NJZF0pO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHJvdGF0ZWRQYWdlID49IDApIHtcbiAgICAgICAgICAgIHJlbmRlclF1ZXVlLm1hcmtSZW5kZXJpbmcocm90YXRlZFBhZ2UpO1xuICAgICAgICAgICAgaGFzUmVuZGVyaW5nVGh1bWJuYWlsUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgc2V0UmVuZGVyUGFnZUluZGV4KHJvdGF0ZWRQYWdlKTtcbiAgICAgICAgfVxuICAgIH0sIFtkb2NJZCwgcm90YXRlZFBhZ2VdKTtcbiAgICBjb3JlLnVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocHJldmlvdXNWaWV3TW9kZSAhPT0gdmlld01vZGUpIHtcbiAgICAgICAgICAgIHJlbmRlclF1ZXVlLm1hcmtOb3RSZW5kZXJlZCgpO1xuICAgICAgICAgICAgcmVuZGVyTmV4dFRodW1ibmFpbCgpO1xuICAgICAgICB9XG4gICAgfSwgW3ZpZXdNb2RlXSk7XG4gICAgdmFyIHJlbmRlclBhZ2VUaHVtYm5haWwgPSBmdW5jdGlvbiAocGFnZUluZGV4KSB7XG4gICAgICAgIHZhciBpc0NvdmVyID0gdmlld01vZGUgPT09IGNvcmUuVmlld01vZGUuRHVhbFBhZ2VXaXRoQ292ZXIgJiZcbiAgICAgICAgICAgIChwYWdlSW5kZXggPT09IDAgfHwgKG51bVBhZ2VzICUgMiA9PT0gMCAmJiBwYWdlSW5kZXggPT09IG51bVBhZ2VzIC0gMSkpO1xuICAgICAgICB2YXIga2V5ID0gXCJcIi5jb25jYXQoZG9jLmxvYWRpbmdUYXNrLmRvY0lkLCBcIl9fX1wiKS5jb25jYXQocGFnZUluZGV4KTtcbiAgICAgICAgdmFyIHBhZ2VMYWJlbCA9IGxhYmVscy5sZW5ndGggPT09IG51bVBhZ2VzID8gbGFiZWxzW3BhZ2VJbmRleF0gOiBcIlwiLmNvbmNhdChwYWdlSW5kZXggKyAxKTtcbiAgICAgICAgdmFyIGxhYmVsID0gcmVuZGVyQ3VycmVudFBhZ2VMYWJlbFxuICAgICAgICAgICAgPyByZW5kZXJDdXJyZW50UGFnZUxhYmVsKHsgY3VycmVudFBhZ2U6IGN1cnJlbnRQYWdlLCBwYWdlSW5kZXg6IHBhZ2VJbmRleCwgbnVtUGFnZXM6IG51bVBhZ2VzLCBwYWdlTGFiZWw6IHBhZ2VMYWJlbCB9KVxuICAgICAgICAgICAgOiBwYWdlTGFiZWw7XG4gICAgICAgIHZhciBwYWdlUm90YXRpb24gPSBwYWdlc1JvdGF0aW9uLmhhcyhwYWdlSW5kZXgpID8gcGFnZXNSb3RhdGlvbi5nZXQocGFnZUluZGV4KSA6IDA7XG4gICAgICAgIHZhciB0aHVtYm5haWwgPSAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFRodW1ibmFpbENvbnRhaW5lciwgeyBkb2M6IGRvYywgcGFnZUhlaWdodDogcGFnZUhlaWdodCwgcGFnZUluZGV4OiBwYWdlSW5kZXgsIHBhZ2VSb3RhdGlvbjogcGFnZVJvdGF0aW9uLCBwYWdlV2lkdGg6IHBhZ2VXaWR0aCwgcm90YXRpb246IHJvdGF0aW9uLCBzaG91bGRSZW5kZXI6IHJlbmRlclBhZ2VJbmRleCA9PT0gcGFnZUluZGV4LCB0aHVtYm5haWxXaWR0aDogdGh1bWJuYWlsV2lkdGgsIG9uUmVuZGVyQ29tcGxldGVkOiBoYW5kbGVSZW5kZXJDb21wbGV0ZWQsIG9uVmlzaWJpbGl0eUNoYW5nZWQ6IGhhbmRsZVZpc2liaWxpdHlDaGFuZ2VkIH0pKTtcbiAgICAgICAgcmV0dXJuIHJlbmRlclRodW1ibmFpbEl0ZW0gPyAocmVuZGVyVGh1bWJuYWlsSXRlbSh7XG4gICAgICAgICAgICBjdXJyZW50UGFnZTogY3VycmVudFBhZ2UsXG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIG51bVBhZ2VzOiBudW1QYWdlcyxcbiAgICAgICAgICAgIHBhZ2VJbmRleDogcGFnZUluZGV4LFxuICAgICAgICAgICAgcmVuZGVyUGFnZUxhYmVsOiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCwgbGFiZWwpLFxuICAgICAgICAgICAgcmVuZGVyUGFnZVRodW1ibmFpbDogdGh1bWJuYWlsLFxuICAgICAgICAgICAgb25KdW1wVG9QYWdlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBvbkp1bXBUb1BhZ2UocGFnZUluZGV4KTsgfSxcbiAgICAgICAgICAgIG9uUm90YXRlUGFnZTogZnVuY3Rpb24gKGRpcmVjdGlvbikgeyByZXR1cm4gb25Sb3RhdGVQYWdlKHBhZ2VJbmRleCwgZGlyZWN0aW9uKTsgfSxcbiAgICAgICAgfSkpIDogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGtleToga2V5IH0sXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNvcmUuY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAgICAgICAgICdycHYtdGh1bWJuYWlsX19pdGVtJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgJ3Jwdi10aHVtYm5haWxfX2l0ZW0tLWR1YWwtZXZlbic6IHZpZXdNb2RlID09PSBjb3JlLlZpZXdNb2RlLkR1YWxQYWdlICYmIHBhZ2VJbmRleCAlIDIgPT09IDAsXG4gICAgICAgICAgICAgICAgICAgICdycHYtdGh1bWJuYWlsX19pdGVtLS1kdWFsLW9kZCc6IHZpZXdNb2RlID09PSBjb3JlLlZpZXdNb2RlLkR1YWxQYWdlICYmIHBhZ2VJbmRleCAlIDIgPT09IDEsXG4gICAgICAgICAgICAgICAgICAgICdycHYtdGh1bWJuYWlsX19pdGVtLS1kdWFsLWNvdmVyJzogaXNDb3ZlcixcbiAgICAgICAgICAgICAgICAgICAgJ3Jwdi10aHVtYm5haWxfX2l0ZW0tLWR1YWwtY292ZXItZXZlbic6IHZpZXdNb2RlID09PSBjb3JlLlZpZXdNb2RlLkR1YWxQYWdlV2l0aENvdmVyICYmICFpc0NvdmVyICYmIHBhZ2VJbmRleCAlIDIgPT09IDAsXG4gICAgICAgICAgICAgICAgICAgICdycHYtdGh1bWJuYWlsX19pdGVtLS1kdWFsLWNvdmVyLW9kZCc6IHZpZXdNb2RlID09PSBjb3JlLlZpZXdNb2RlLkR1YWxQYWdlV2l0aENvdmVyICYmICFpc0NvdmVyICYmIHBhZ2VJbmRleCAlIDIgPT09IDEsXG4gICAgICAgICAgICAgICAgICAgICdycHYtdGh1bWJuYWlsX19pdGVtLS1zaW5nbGUnOiB2aWV3TW9kZSA9PT0gY29yZS5WaWV3TW9kZS5TaW5nbGVQYWdlLFxuICAgICAgICAgICAgICAgICAgICAncnB2LXRodW1ibmFpbF9faXRlbS0tc2VsZWN0ZWQnOiBjdXJyZW50UGFnZSA9PT0gcGFnZUluZGV4LFxuICAgICAgICAgICAgICAgIH0pLCByb2xlOiBcImJ1dHRvblwiLCB0YWJJbmRleDogY3VycmVudFBhZ2UgPT09IHBhZ2VJbmRleCA/IDAgOiAtMSwgb25DbGljazogZnVuY3Rpb24gKCkgeyByZXR1cm4gb25KdW1wVG9QYWdlKHBhZ2VJbmRleCk7IH0gfSwgdGh1bWJuYWlsKSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IFwiZGF0YS10ZXN0aWRcIjogXCJ0aHVtYm5haWxfX2xhYmVsLVwiLmNvbmNhdChwYWdlSW5kZXgpLCBjbGFzc05hbWU6IFwicnB2LXRodW1ibmFpbF9fbGFiZWxcIiB9LCBsYWJlbCkpKTtcbiAgICB9O1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBjb250YWluZXJSZWYsIFwiZGF0YS10ZXN0aWRcIjogXCJ0aHVtYm5haWxfX2xpc3RcIiwgY2xhc3NOYW1lOiBjb3JlLmNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgJ3Jwdi10aHVtYm5haWxfX2xpc3QnOiB0cnVlLFxuICAgICAgICAgICAgJ3Jwdi10aHVtYm5haWxfX2xpc3QtLWhvcml6b250YWwnOiB0aHVtYm5haWxEaXJlY3Rpb24gPT09IGV4cG9ydHMuVGh1bWJuYWlsRGlyZWN0aW9uLkhvcml6b250YWwsXG4gICAgICAgICAgICAncnB2LXRodW1ibmFpbF9fbGlzdC0tcnRsJzogaXNSdGwsXG4gICAgICAgICAgICAncnB2LXRodW1ibmFpbF9fbGlzdC0tdmVydGljYWwnOiB0aHVtYm5haWxEaXJlY3Rpb24gPT09IGV4cG9ydHMuVGh1bWJuYWlsRGlyZWN0aW9uLlZlcnRpY2FsLFxuICAgICAgICB9KSwgb25LZXlEb3duOiBoYW5kbGVLZXlEb3duIH0sIGNodW5rcy5tYXAoZnVuY3Rpb24gKGNodW5rSXRlbSwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGlzU2VsZWN0ZWRDaHVuayA9IGZhbHNlO1xuICAgICAgICBzd2l0Y2ggKHZpZXdNb2RlKSB7XG4gICAgICAgICAgICBjYXNlIGNvcmUuVmlld01vZGUuRHVhbFBhZ2U6XG4gICAgICAgICAgICAgICAgaXNTZWxlY3RlZENodW5rID0gY3VycmVudFBhZ2UgPT09IDIgKiBpbmRleCB8fCBjdXJyZW50UGFnZSA9PT0gMiAqIGluZGV4ICsgMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29yZS5WaWV3TW9kZS5EdWFsUGFnZVdpdGhDb3ZlcjpcbiAgICAgICAgICAgICAgICBpc1NlbGVjdGVkQ2h1bmsgPVxuICAgICAgICAgICAgICAgICAgICAoY3VycmVudFBhZ2UgPT09IDAgJiYgaW5kZXggPT09IDApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoaW5kZXggPiAwICYmIGN1cnJlbnRQYWdlID09PSAyICogaW5kZXggLSAxKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKGluZGV4ID4gMCAmJiBjdXJyZW50UGFnZSA9PT0gMiAqIGluZGV4KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29yZS5WaWV3TW9kZS5TaW5nbGVQYWdlOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpc1NlbGVjdGVkQ2h1bmsgPSBjdXJyZW50UGFnZSA9PT0gaW5kZXg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNvcmUuY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAgICAgJ3Jwdi10aHVtYm5haWxfX2l0ZW1zJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAncnB2LXRodW1ibmFpbF9faXRlbXMtLWR1YWwnOiB2aWV3TW9kZSA9PT0gY29yZS5WaWV3TW9kZS5EdWFsUGFnZSxcbiAgICAgICAgICAgICAgICAncnB2LXRodW1ibmFpbF9faXRlbXMtLWR1YWwtY292ZXInOiB2aWV3TW9kZSA9PT0gY29yZS5WaWV3TW9kZS5EdWFsUGFnZVdpdGhDb3ZlcixcbiAgICAgICAgICAgICAgICAncnB2LXRodW1ibmFpbF9faXRlbXMtLXNpbmdsZSc6IHZpZXdNb2RlID09PSBjb3JlLlZpZXdNb2RlLlNpbmdsZVBhZ2UsXG4gICAgICAgICAgICAgICAgJ3Jwdi10aHVtYm5haWxfX2l0ZW1zLS1zZWxlY3RlZCc6IGlzU2VsZWN0ZWRDaHVuayxcbiAgICAgICAgICAgIH0pLCBrZXk6IFwiXCIuY29uY2F0KGluZGV4LCBcIl9fX1wiKS5jb25jYXQodmlld01vZGUpIH0sIGNodW5rSXRlbS5tYXAoZnVuY3Rpb24gKHBhZ2VJbmRleCkgeyByZXR1cm4gcmVuZGVyUGFnZVRodW1ibmFpbChwYWdlSW5kZXgpOyB9KSkpO1xuICAgIH0pKSk7XG59O1xuXG52YXIgVGh1bWJuYWlsTGlzdFdpdGhTdG9yZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciByZW5kZXJDdXJyZW50UGFnZUxhYmVsID0gX2EucmVuZGVyQ3VycmVudFBhZ2VMYWJlbCwgcmVuZGVyVGh1bWJuYWlsSXRlbSA9IF9hLnJlbmRlclRodW1ibmFpbEl0ZW0sIHN0b3JlID0gX2Euc3RvcmUsIHRodW1ibmFpbERpcmVjdGlvbiA9IF9hLnRodW1ibmFpbERpcmVjdGlvbiwgdGh1bWJuYWlsV2lkdGggPSBfYS50aHVtYm5haWxXaWR0aDtcbiAgICB2YXIgX2IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHN0b3JlLmdldCgnZG9jJykpLCBjdXJyZW50RG9jID0gX2JbMF0sIHNldEN1cnJlbnREb2MgPSBfYlsxXTtcbiAgICB2YXIgX2MgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHN0b3JlLmdldCgnY3VycmVudFBhZ2UnKSB8fCAwKSwgY3VycmVudFBhZ2UgPSBfY1swXSwgc2V0Q3VycmVudFBhZ2UgPSBfY1sxXTtcbiAgICB2YXIgX2QgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHN0b3JlLmdldCgncGFnZUhlaWdodCcpIHx8IDApLCBwYWdlSGVpZ2h0ID0gX2RbMF0sIHNldFBhZ2VIZWlnaHQgPSBfZFsxXTtcbiAgICB2YXIgX2UgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHN0b3JlLmdldCgncGFnZVdpZHRoJykgfHwgMCksIHBhZ2VXaWR0aCA9IF9lWzBdLCBzZXRQYWdlV2lkdGggPSBfZVsxXTtcbiAgICB2YXIgX2YgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHN0b3JlLmdldCgncm90YXRpb24nKSB8fCAwKSwgcm90YXRpb24gPSBfZlswXSwgc2V0Um90YXRpb24gPSBfZlsxXTtcbiAgICB2YXIgX2cgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHN0b3JlLmdldCgncGFnZXNSb3RhdGlvbicpIHx8IG5ldyBNYXAoKSksIHBhZ2VzUm90YXRpb24gPSBfZ1swXSwgc2V0UGFnZXNSb3RhdGlvbiA9IF9nWzFdO1xuICAgIHZhciBfaCA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoc3RvcmUuZ2V0KCdyb3RhdGVkUGFnZScpIHx8IC0xKSwgcm90YXRlZFBhZ2UgPSBfaFswXSwgc2V0Um90YXRlZFBhZ2UgPSBfaFsxXTtcbiAgICB2YXIgX2ogPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHN0b3JlLmdldCgndmlld01vZGUnKSksIHZpZXdNb2RlID0gX2pbMF0sIHNldFZpZXdNb2RlID0gX2pbMV07XG4gICAgdmFyIGhhbmRsZUN1cnJlbnRQYWdlQ2hhbmdlZCA9IGZ1bmN0aW9uIChjdXJyZW50UGFnZUluZGV4KSB7XG4gICAgICAgIHNldEN1cnJlbnRQYWdlKGN1cnJlbnRQYWdlSW5kZXgpO1xuICAgIH07XG4gICAgdmFyIGhhbmRsZURvY3VtZW50Q2hhbmdlZCA9IGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgc2V0Q3VycmVudERvYyhkb2MpO1xuICAgIH07XG4gICAgdmFyIGhhbmRsZVBhZ2VIZWlnaHRDaGFuZ2VkID0gZnVuY3Rpb24gKGhlaWdodCkge1xuICAgICAgICBzZXRQYWdlSGVpZ2h0KGhlaWdodCk7XG4gICAgfTtcbiAgICB2YXIgaGFuZGxlUGFnZVdpZHRoQ2hhbmdlZCA9IGZ1bmN0aW9uICh3aWR0aCkge1xuICAgICAgICBzZXRQYWdlV2lkdGgod2lkdGgpO1xuICAgIH07XG4gICAgdmFyIGhhbmRsZVJvdGF0aW9uQ2hhbmdlZCA9IGZ1bmN0aW9uIChjdXJyZW50Um90YXRpb24pIHtcbiAgICAgICAgc2V0Um90YXRpb24oY3VycmVudFJvdGF0aW9uKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVQYWdlc1JvdGF0aW9uQ2hhbmdlZCA9IGZ1bmN0aW9uIChyb3RhdGlvbnMpIHtcbiAgICAgICAgc2V0UGFnZXNSb3RhdGlvbihyb3RhdGlvbnMpO1xuICAgIH07XG4gICAgdmFyIGhhbmRsZVJvdGF0ZWRQYWdlID0gZnVuY3Rpb24gKHJvdGF0ZWRQYWdlKSB7XG4gICAgICAgIHNldFJvdGF0ZWRQYWdlKHJvdGF0ZWRQYWdlKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVWaWV3TW9kZUNoYW5nZWQgPSBmdW5jdGlvbiAodmlld01vZGUpIHtcbiAgICAgICAgc2V0Vmlld01vZGUodmlld01vZGUpO1xuICAgIH07XG4gICAgdmFyIGp1bXAgPSBmdW5jdGlvbiAocGFnZUluZGV4KSB7XG4gICAgICAgIHZhciBqdW1wVG9QYWdlID0gc3RvcmUuZ2V0KCdqdW1wVG9QYWdlJyk7XG4gICAgICAgIGlmIChqdW1wVG9QYWdlKSB7XG4gICAgICAgICAgICBqdW1wVG9QYWdlKHBhZ2VJbmRleCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciByb3RhdGVQYWdlID0gZnVuY3Rpb24gKHBhZ2VJbmRleCwgZGlyZWN0aW9uKSB7XG4gICAgICAgIHN0b3JlLmdldCgncm90YXRlUGFnZScpKHBhZ2VJbmRleCwgZGlyZWN0aW9uKTtcbiAgICB9O1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdkb2MnLCBoYW5kbGVEb2N1bWVudENoYW5nZWQpO1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ3BhZ2VIZWlnaHQnLCBoYW5kbGVQYWdlSGVpZ2h0Q2hhbmdlZCk7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgncGFnZVdpZHRoJywgaGFuZGxlUGFnZVdpZHRoQ2hhbmdlZCk7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgncm90YXRlZFBhZ2UnLCBoYW5kbGVSb3RhdGVkUGFnZSk7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgncm90YXRpb24nLCBoYW5kbGVSb3RhdGlvbkNoYW5nZWQpO1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ3BhZ2VzUm90YXRpb24nLCBoYW5kbGVQYWdlc1JvdGF0aW9uQ2hhbmdlZCk7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgndmlld01vZGUnLCBoYW5kbGVWaWV3TW9kZUNoYW5nZWQpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ2RvYycsIGhhbmRsZURvY3VtZW50Q2hhbmdlZCk7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgncGFnZUhlaWdodCcsIGhhbmRsZVBhZ2VIZWlnaHRDaGFuZ2VkKTtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdwYWdlV2lkdGgnLCBoYW5kbGVQYWdlV2lkdGhDaGFuZ2VkKTtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdyb3RhdGVkUGFnZScsIGhhbmRsZVJvdGF0ZWRQYWdlKTtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdyb3RhdGlvbicsIGhhbmRsZVJvdGF0aW9uQ2hhbmdlZCk7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgncGFnZXNSb3RhdGlvbicsIGhhbmRsZVBhZ2VzUm90YXRpb25DaGFuZ2VkKTtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCd2aWV3TW9kZScsIGhhbmRsZVZpZXdNb2RlQ2hhbmdlZCk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIGNvcmUudXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnY3VycmVudFBhZ2UnLCBoYW5kbGVDdXJyZW50UGFnZUNoYW5nZWQpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ2N1cnJlbnRQYWdlJywgaGFuZGxlQ3VycmVudFBhZ2VDaGFuZ2VkKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIGN1cnJlbnREb2MgPyAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTGF6eVJlbmRlciwgeyB0ZXN0SWQ6IFwidGh1bWJuYWlsX19saXN0LWNvbnRhaW5lclwiLCBhdHRyczoge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiAncnB2LXRodW1ibmFpbF9fbGlzdC1jb250YWluZXInLFxuICAgICAgICB9IH0sXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChGZXRjaExhYmVscywgeyBkb2M6IGN1cnJlbnREb2MgfSwgZnVuY3Rpb24gKGxhYmVscykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChUaHVtYm5haWxMaXN0LCB7IGN1cnJlbnRQYWdlOiBjdXJyZW50UGFnZSwgZG9jOiBjdXJyZW50RG9jLCBsYWJlbHM6IGxhYmVscywgcGFnZXNSb3RhdGlvbjogcGFnZXNSb3RhdGlvbiwgcGFnZUhlaWdodDogcGFnZUhlaWdodCwgcGFnZVdpZHRoOiBwYWdlV2lkdGgsIHJlbmRlckN1cnJlbnRQYWdlTGFiZWw6IHJlbmRlckN1cnJlbnRQYWdlTGFiZWwsIHJlbmRlclRodW1ibmFpbEl0ZW06IHJlbmRlclRodW1ibmFpbEl0ZW0sIHJvdGF0ZWRQYWdlOiByb3RhdGVkUGFnZSwgcm90YXRpb246IHJvdGF0aW9uLCB0aHVtYm5haWxEaXJlY3Rpb246IHRodW1ibmFpbERpcmVjdGlvbiwgdGh1bWJuYWlsV2lkdGg6IHRodW1ibmFpbFdpZHRoLCB2aWV3TW9kZTogdmlld01vZGUsIG9uSnVtcFRvUGFnZToganVtcCwgb25Sb3RhdGVQYWdlOiByb3RhdGVQYWdlIH0pKTsgfSkpKSA6IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBcImRhdGEtdGVzdGlkXCI6IFwidGh1bWJuYWlsLWxpc3RfX2xvYWRlclwiLCBjbGFzc05hbWU6IFwicnB2LXRodW1ibmFpbF9fbG9hZGVyXCIgfSwgUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KFNwaW5uZXJDb250ZXh0KS5yZW5kZXJTcGlubmVyKCkpKTtcbn07XG5cbnZhciB0aHVtYm5haWxQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luUHJvcHMpIHtcbiAgICB2YXIgc3RvcmUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY29yZS5jcmVhdGVTdG9yZSh7XG4gICAgICAgICAgICByb3RhdGVQYWdlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmlld01vZGU6IGNvcmUuVmlld01vZGUuU2luZ2xlUGFnZSxcbiAgICAgICAgfSk7XG4gICAgfSwgW10pO1xuICAgIHZhciBfYSA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoJycpLCBkb2NJZCA9IF9hWzBdLCBzZXREb2NJZCA9IF9hWzFdO1xuICAgIHZhciBDb3ZlckRlY29yYXRvciA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChDb3ZlciwgX19hc3NpZ24oe30sIHByb3BzLCB7IHJlbmRlclNwaW5uZXI6IHBsdWdpblByb3BzID09PSBudWxsIHx8IHBsdWdpblByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbHVnaW5Qcm9wcy5yZW5kZXJTcGlubmVyLCBzdG9yZTogc3RvcmUgfSkpKTsgfTtcbiAgICB2YXIgVGh1bWJuYWlsc0RlY29yYXRvciA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFNwaW5uZXJDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IHJlbmRlclNwaW5uZXI6IChwbHVnaW5Qcm9wcyA9PT0gbnVsbCB8fCBwbHVnaW5Qcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGx1Z2luUHJvcHMucmVuZGVyU3Bpbm5lcikgfHwgZGVmYXVsdFNwaW5uZXIgfSB9LFxuICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoVGh1bWJuYWlsTGlzdFdpdGhTdG9yZSwgeyByZW5kZXJDdXJyZW50UGFnZUxhYmVsOiBwbHVnaW5Qcm9wcyA9PT0gbnVsbCB8fCBwbHVnaW5Qcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGx1Z2luUHJvcHMucmVuZGVyQ3VycmVudFBhZ2VMYWJlbCwgcmVuZGVyVGh1bWJuYWlsSXRlbTogcHJvcHMgPT09IG51bGwgfHwgcHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb3BzLnJlbmRlclRodW1ibmFpbEl0ZW0sIHN0b3JlOiBzdG9yZSwgdGh1bWJuYWlsRGlyZWN0aW9uOiAocHJvcHMgPT09IG51bGwgfHwgcHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb3BzLnRodW1ibmFpbERpcmVjdGlvbikgfHwgZXhwb3J0cy5UaHVtYm5haWxEaXJlY3Rpb24uVmVydGljYWwsIHRodW1ibmFpbFdpZHRoOiAocGx1Z2luUHJvcHMgPT09IG51bGwgfHwgcGx1Z2luUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBsdWdpblByb3BzLnRodW1ibmFpbFdpZHRoKSB8fCAxMDAgfSkpKTsgfSwgW2RvY0lkXSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5zdGFsbDogZnVuY3Rpb24gKHBsdWdpbkZ1bmN0aW9ucykge1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdqdW1wVG9QYWdlJywgcGx1Z2luRnVuY3Rpb25zLmp1bXBUb1BhZ2UpO1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdyb3RhdGVQYWdlJywgcGx1Z2luRnVuY3Rpb25zLnJvdGF0ZVBhZ2UpO1xuICAgICAgICB9LFxuICAgICAgICBvbkRvY3VtZW50TG9hZDogZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICAgICBzZXREb2NJZChwcm9wcy5kb2MubG9hZGluZ1Rhc2suZG9jSWQpO1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdkb2MnLCBwcm9wcy5kb2MpO1xuICAgICAgICB9LFxuICAgICAgICBvblZpZXdlclN0YXRlQ2hhbmdlOiBmdW5jdGlvbiAodmlld2VyU3RhdGUpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnY3VycmVudFBhZ2UnLCB2aWV3ZXJTdGF0ZS5wYWdlSW5kZXgpO1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdwYWdlc1JvdGF0aW9uJywgdmlld2VyU3RhdGUucGFnZXNSb3RhdGlvbik7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ3BhZ2VIZWlnaHQnLCB2aWV3ZXJTdGF0ZS5wYWdlSGVpZ2h0KTtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgncGFnZVdpZHRoJywgdmlld2VyU3RhdGUucGFnZVdpZHRoKTtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgncm90YXRpb24nLCB2aWV3ZXJTdGF0ZS5yb3RhdGlvbik7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ3JvdGF0ZWRQYWdlJywgdmlld2VyU3RhdGUucm90YXRlZFBhZ2UpO1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCd2aWV3TW9kZScsIHZpZXdlclN0YXRlLnZpZXdNb2RlKTtcbiAgICAgICAgICAgIHJldHVybiB2aWV3ZXJTdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgQ292ZXI6IENvdmVyRGVjb3JhdG9yLFxuICAgICAgICBUaHVtYm5haWxzOiBUaHVtYm5haWxzRGVjb3JhdG9yLFxuICAgIH07XG59O1xuXG5leHBvcnRzLnRodW1ibmFpbFBsdWdpbiA9IHRodW1ibmFpbFBsdWdpbjtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@react-pdf-viewer+thumbnail@3.12.0_pdfjs-dist@3.4.120_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@react-pdf-viewer/thumbnail/lib/cjs/thumbnail.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@react-pdf-viewer+thumbnail@3.12.0_pdfjs-dist@3.4.120_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@react-pdf-viewer/thumbnail/lib/index.js":
/*!************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@react-pdf-viewer+thumbnail@3.12.0_pdfjs-dist@3.4.120_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@react-pdf-viewer/thumbnail/lib/index.js ***!
  \************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/thumbnail.js */ \"(ssr)/./node_modules/.pnpm/@react-pdf-viewer+thumbnail@3.12.0_pdfjs-dist@3.4.120_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@react-pdf-viewer/thumbnail/lib/cjs/thumbnail.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlYWN0LXBkZi12aWV3ZXIrdGh1bWJuYWlsQDMuMTIuMF9wZGZqcy1kaXN0QDMuNC4xMjBfcmVhY3QtZG9tQDE5LjAuMF9yZWFjdEAxOS4wLjBfX3JlYWN0QDE5LjAuMC9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvdGh1bWJuYWlsL2xpYi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYixJQUFJLEtBQXFDLEVBQUUsRUFFMUMsQ0FBQztBQUNGLElBQUksNFBBQThDO0FBQ2xEIiwic291cmNlcyI6WyIvaG9tZS9ub2UtY2FtcG8vZGVsb3MvcHJvamV0L2xhYi1rcy9rcy1sYWIvbm9kZV9tb2R1bGVzLy5wbnBtL0ByZWFjdC1wZGYtdmlld2VyK3RodW1ibmFpbEAzLjEyLjBfcGRmanMtZGlzdEAzLjQuMTIwX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL3RodW1ibmFpbC9saWIvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBIFJlYWN0IGNvbXBvbmVudCB0byB2aWV3IGEgUERGIGRvY3VtZW50XG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0LXBkZi12aWV3ZXIuZGV2XG4gKiBAbGljZW5zZSBodHRwczovL3JlYWN0LXBkZi12aWV3ZXIuZGV2L2xpY2Vuc2VcbiAqIEBjb3B5cmlnaHQgMjAxOS0yMDIzIE5ndXllbiBIdXUgUGh1b2MgPG1lQHBodW9jLm5nPlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3RodW1ibmFpbC5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy90aHVtYm5haWwuanMnKTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@react-pdf-viewer+thumbnail@3.12.0_pdfjs-dist@3.4.120_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@react-pdf-viewer/thumbnail/lib/index.js\n");

/***/ })

};
;